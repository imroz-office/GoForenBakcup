{% extends "base.html" %}
{% load static %}

{% block start %}


<div class="content-body">
    <div class="container-fluid">
        <div class="row">
            <div class="main-div">
                <div class="breadcrumb-wrapper breadcrumb-contacts" style="display: flex; justify-content: space-between;">
                    <div>
                        <h1>{{ is_edit|yesno:"Edit Client,Add Client" }}</h1>
                    </div>
                    <div class="d-flex align-items-center">
                        <a href="{% url 'open_client_vendor_least_page' %}" class="btn btn-primary right-sidebar-in content-sidebar-menu">User list</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xl-12 col-lg-12">
                <div class="ec-cat-list card card-default mb-24px">
                    <div class="card-body">
                        <form class="form row g-3" action="{% if is_edit %}{% url 'open_edit_client' client.cId %}{% else %}{% url 'add_client_page' %}{% endif %}" method="post">
                            {% csrf_token %}
                            <div class="col-lg-6">
                                <label for="inputName" class="form-label">Company Name</label>
                                 <div class="input-group clockpicker">
                                <span class="input-group-text"><i class="fas fa-landmark"></i></span>
                                             
                                <input type="text" required class="form-control" name="company_name" placeholder="Enter Company Name" id="inputName" value="{{ client.company_name|default:'' }}">
                            </div>
                            </div>
                            	
                            
                            <div class="col-lg-6">
                                <label for="inputName" class="form-label">Client Name</label>
                                <div class="input-group clockpicker">
                                <span class="input-group-text"><i class="fas fa-user-alt"></i></span>
                                             
                                <input type="text" required class="form-control" name="name" placeholder="Enter Name" id="inputName" value="{{ client.name|default:'' }}">
                            </div>
                            </div>

                            <div class="col-lg-6">
                                <label for="inputMobile" class="form-label">Mobile Number</label>
                                <div class="input-group clockpicker">
                                <span class="input-group-text"><i class="fas fa-address-book"></i></span>
                                 
                                <input type="text" required maxlength="10" minlength="10" pattern="[0-9]*" class="form-control slug-title" name="mobile_number" placeholder="Enter Mobile Number" id="mobileNumber" value="{{ client.mobile_number|default:'' }}" oninput="this.value = this.value.replace(/[^0-9]/g, '');">
                            </div>
                            </div>
                            
                           
                            
                            <div class="col-lg-6">
                                <label for="inputName" class="form-label">GST Number</label>
                                <div class="input-group clockpicker">
                                <span class="input-group-text"><i class="fas fa-atlas"></i></span>
                                 
                                <input type="text" required class="form-control" name="gst_no" placeholder="Enter GST No" id="inputName" value="{{ client.gst_no|default:'' }}">
                            </div>
                            </div>
                            <div class="col-lg-6">
                                <label for="inputName" class="form-label">Address</label>
                                <div class="input-group clockpicker">
                                <span class="input-group-text"><i class="fas fa-atlas"></i></span>
                                 
                                <input type="text" required class="form-control" name="bill_add" placeholder="Enter Address" id="inputName" value="{{ client.bill_add|default:'' }}">
                            </div>
                            </div>
                            
                            <div class="col-lg-6">
                                <label for="inputName" class="form-label">Opening Balance</label>
                                <div class="input-group clockpicker">
                                <span class="input-group-text"><i class="far fa-money-bill-alt"></i></span>
                                 
                                <input type="number" required class="form-control" name="ope_balance" placeholder="Enter Opening Balance" id="inputName" value="{{ client.ope_balance|default:'' }}">
                            </div>
                            </div>

                            <div class="col-lg-12">
                                <button type="submit" class="btn btn-primary">{{ is_edit|yesno:"Update,Submit" }}</button>
                            </div>
                        </form>
                        <script>
                                        // This will disable the submit button when clicked and prevent multiple submissions.
                                        document.querySelector('form').addEventListener('submit', function(event) {
                                            // Disable the submit button
                                            const submitButton = event.target.querySelector('button[type="submit"]');
                                            submitButton.disabled = true;
                                    
                                            // Optionally, change the button text to indicate the form is being submitted
                                            submitButton.innerText = 'Submitting...';
                                    
                                            // Prevent further form submissions by disabling the button
                                        });
                                    </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



{% endblock %}